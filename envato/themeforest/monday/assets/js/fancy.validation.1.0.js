(function(a){var d=false;a.fn.fancyValidate=function(g){var f=this;f.find('button[type="submit"]').click(function(h){var i=e(f,g);if(i===false){h.preventDefault();if(d===true){window.location.href="/"}}})};a.fn.checkboxUpdate=function(g){var f=this;f.find('input[type="checkbox"]').each(function(){var h=a(this);h.click(function(){if(h.is(":checked")){h.attr("checked","checked")}else{h.removeAttr("checked")}})})};function c(f){if(a("."+f).val()!==""){d=true;return true}}function b(f){var g=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return g.test(f)}function e(h,f){if(f.botClass!==undefined&&f.botClass!==""){if(c(f.botClass)===true){return false}}var g=true;console.log("validating");h.find('input[type="text"], textarea').each(function(){var i=a(this);if(i.attr("required")==="required"){if(i.val()===""){g=false;i.addClass(f.errorClass)}else{i.removeClass(f.errorClass)}}});h.find('input[type="email"]').each(function(){var i=a(this);if(i.attr("required")==="required"){if(i.val()===""){g=false;i.addClass(f.errorClass)}else{if(b(i.val())===false){g=false;i.addClass(f.errorClass)}else{i.removeClass(f.errorClass)}}}else{if(i.val()!==""){if(b(i.val())===false){g=false;i.addClass(f.errorClass)}else{i.removeClass(f.errorClass)}}}});h.find("select").each(function(){var i=a(this);if(i.attr("required")==="required"){if(i.find(":selected").val()===""){g=false;i.addClass(f.errorClass)}else{i.removeClass(f.errorClass)}}});h.find('ul[type="checkbox"]').each(function(){var m=a(this);if(m.attr("required")==="required"){var l=true;var i=0;m.find('input[type="checkbox"]').each(function(){var n=a(this);if(n.attr("checked")){i=i+1}});var k=m.attr("number");var j=m.attr("condition");if(k!=null&&j!=null){switch(m.attr("condition")){case"<":if(i>=k){l=false}break;case"=":if(i!=k){l=false}break;case">":if(i<=k){l=false}break}console.log("Currently "+i+" box checked. Condition is "+j+k)}else{console.log("Currently "+i+" box checked. Need at least one");if(i==0){l=false}}if(l==false){g=false;h.find("#"+m.attr("for")).each(function(){var n=a(this);n.addClass(f.errorClass)})}else{h.find("#"+m.attr("for")).each(function(){var n=a(this);n.removeClass(f.errorClass)})}}});h.find('p[type="checkbox"]').each(function(){var i=a(this);if(i.attr("required")==="required"){i.find('input[type="checkbox"]').each(function(){var j=a(this);if(j.attr("checked")){i.removeClass(f.errorClass)}else{i.addClass(f.errorClass);g=false}})}});return g}})(jQuery);